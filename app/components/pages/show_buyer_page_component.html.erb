<div class="p-8 space-y-8">
  <%= render(DataTables::DataCardComponent.new(title: "Buyer Information")) do |c| %>
    <% c.data_row(
      key: "Data",
      value: render(DataTables::DataCardComponent.new) do |c|
        c.data_row(key: "Name", value: @buyer.name)
      end
    ) %>
    <% c.data_row(
      key: "Associations",
      value: render(DataTables::DataCardComponent.new) do |c|
        c.data_row(
            key: "Submissions",
            value: if Submission.where(buyer_id: @buyer.id).present?
              render(Misc::StyledLinkToComponent.new(name: "View (#{Submission.where(buyer_id: @buyer.id).length})", options: submissions_path(:buyer_id => @buyer.id)))
            else
              "None"
            end
        )
        c.data_row(
          key: "Contracts",
          value: if Contract.where(buyer_id: @buyer.id).present?
            render(Misc::StyledLinkToComponent.new(name: "View (#{Contract.where(buyer_id: @buyer.id).length})", options: contracts_path(:buyer_id => @buyer.id)))
          else
            "None"
          end
        )
      end
    ) %>
    <% c.data_row(key: "Files", value: render(DataTables::FilesCardComponent.new(files: @buyer.files))) %>
    <% c.data_row(key: "Metadata", value: render(DataTables::MetadataCardComponent.new(object: @buyer))) %>
  <% end %>
  <div class="flex space-x-4">
    <div>
      <%= render(ButtonComponent.new(url: edit_buyer_path(@buyer))) do "Edit" end %>
    </div>
    <div>
      <%= render(ButtonComponent.new(url: buyers_path)) do "All Buyers" end %>
    </div>
  </div>
</div>